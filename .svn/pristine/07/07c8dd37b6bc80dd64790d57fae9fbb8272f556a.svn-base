webpackJsonp([20],{U7iu:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={data:function(){var t=this;return{dateValue:["2019-01-01","2019-02-01"],crowdName:"",total:0,currentPage:1,loading:!1,activityCreat:!1,tabList:[{name:"name1",label:"我的"},{name:"name2",label:"运营组的"},{name:"name3",label:"下级的"}],state:this.$activity.state,columns:[{title:"活动名称",key:"name",ellipsis:!0,tooltip:!0,render:function(t,e){var a=e.row.name,i=e.row.description||a;return t("Poptip",{props:{trigger:"hover",placement:"right-start","word-wrap":!0},style:{width:"300px"}},[t("span",a),t("Icon",{style:{color:"#19be6b",padding:"0 4px"}}),t("div",{slot:"content"},[t("span",i)])])}},{title:"起止时间",key:"time",ellipsis:!0,tooltip:!0},{title:"投放单元",key:"send",width:180},{title:"创建人",key:"creater",ellipsis:!0,tooltip:!0,width:180},{title:"操作",align:"center",width:180,render:function(e,a){return e("div",[e("a",{on:{click:function(){t.openDetails(a.index,a.row)}}},"详情"),e("a",{style:{padding:"0 8px"},on:{click:function(){}}},"修改"),e("a",{on:{click:function(){}}},"删除")])}}],activityData:this.$activity.activityList,buttonList:[{value:"全部",key:"all"},{value:"待开始",key:"waiting_start"},{value:"进行中",key:"underway"},{value:"已结束",key:"finished"}],buttonActive:"all"}},methods:{initData:function(){},openDetails:function(t,e){this.$router.push({path:"/activity/list",query:{name:"detail",id:e.id}})},activeFn:function(t){this.buttonActive=t},searIconClick:function(){},changePage:function(){},creatActivity:function(){this.activityCreat=!0},cancel:function(t){this.activityCreat=t},ok:function(){this.activityCreat=!1}},computed:{},watch:{},components:{Creat:a("nWqT").a},mounted:function(){this.initData()},created:function(){var t=this.$config.debounce_wait;this.debounceStatus=this.$lodash.debounce(this.activeFn,t),this.debounceSearch=this.$lodash.debounce(this.searIconClick,t)}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-padding10 activity-management"},[a("Card",{attrs:{"dis-hover":""}},[a("Tabs",t._l(t.tabList,function(t,e){return a("TabPane",{key:e,attrs:{label:t.label,name:t.name1}})})),t._v(" "),a("Row",{staticClass:"text-align-c"},t._l(t.state,function(e,i){return a("Col",{key:i,attrs:{span:"8"}},[a("strong",{staticClass:"f20 color-blue"},[t._v(t._s(e.value))]),t._v(" "),a("p",{staticClass:"pt10"},[t._v(t._s(e.name))])])}))],1),t._v(" "),a("Card",{staticClass:"mt10",attrs:{"dis-hover":""}},[a("Row",[a("Col",{attrs:{span:"6"}},[a("ButtonGroup",t._l(t.buttonList,function(e,i){return a("Button",{key:i,attrs:{type:e.key==t.buttonActive?"primary":"default"},on:{click:function(a){t.debounceStatus(e.key)}}},[t._v("\n                    "+t._s(e.value)+"\n                    ")])}))],1),t._v(" "),a("Col",{attrs:{span:"6"}},[a("DatePicker",{staticClass:"width300",attrs:{type:"daterange",placement:"bottom-end",placeholder:"请选择活动时间",value:t.dateValue}})],1),t._v(" "),a("Col",{attrs:{span:"7"}},[a("Input",{staticClass:"dependant-search ml10 ",attrs:{placeholder:"请输入活动名称",icon:"ios-search"},on:{"on-change":t.debounceSearch},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.debounceSearch(e):null}},model:{value:t.crowdName,callback:function(e){t.crowdName=e},expression:"crowdName"}})],1),t._v(" "),a("Col",{staticStyle:{"text-align":"right"},attrs:{span:"3",offset:"2"}},[a("Button",{attrs:{type:"primary",icon:"md-add"},on:{click:t.creatActivity}},[t._v("新建营销活动")])],1),t._v(" "),a("Drawer",{attrs:{width:"800","mask-closable":!1},model:{value:t.activityCreat,callback:function(e){t.activityCreat=e},expression:"activityCreat"}},[t.activityCreat?a("Creat",{on:{cancelCreateAcivity:t.cancel,commitCreateAcivity:t.ok}}):t._e()],1)],1),t._v(" "),a("Table",{staticClass:"mt20",attrs:{loading:t.loading,columns:t.columns,data:t.activityData}}),t._v(" "),a("Page",{staticClass:"page-style",attrs:{total:t.total,current:t.currentPage,"show-elevator":""},on:{"on-change":t.changePage}})],1)],1)},staticRenderFns:[]};var r=a("VU/8")(i,n,!1,function(t){a("Y6tD")},"data-v-58bafea0",null);e.default=r.exports},Y6tD:function(t,e){},hfcv:function(t,e){},nWqT:function(t,e,a){"use strict";var i={props:{},data:function(){return{formValidate:{name:"",id:"",date:[],description:""},ruleValidate:{name:[{required:!0,message:"请输入活动名称",trigger:"blur"},{pattern:this.$config.reg_input.reg,message:this.$config.reg_input.msg,trigger:"blur"}],id:[{required:!0,message:"请输入活动关联号码",trigger:"blur"}],date:[{required:!0,type:"array",message:"请选择活动起止时间",trigger:"change"}]}}},computed:{},components:{editTitle:a("CFN8").a},mounted:function(){},methods:{changeDate:function(t){this.formValidate.date=t},requireUrl:function(){},cancel:function(){this.formValidate={},this.$emit("cancelCreateAcivity",!1)},ok:function(){var t=this;this.$refs.formValidate.validate(function(e){e&&(t.$emit("commitCreateAcivity",!1),t.$router.push({path:"/activity/detail",query:{name:"detail"}}))})}},watch:{},destroyed:function(){}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mask-bg"},[a("edit-title",{attrs:{title:"新建营销活动"},on:{"cancel-click":t.cancel,"ok-click":t.ok}}),t._v(" "),a("div",{staticClass:"custom-dialog-content "},[a("div",{staticClass:"m20"},[a("Card",{staticStyle:{"padding-bottom":"150px"},attrs:{"dis-hover":""}},[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("基本信息")]),t._v(" "),a("Form",{ref:"formValidate",staticClass:"mt20",staticStyle:{padding:"0 20px"},attrs:{"label-position":"left","label-width":95,model:t.formValidate,rules:t.ruleValidate}},[a("Form-item",{attrs:{label:"名称：",prop:"name"}},[a("Input",{staticClass:"width500",attrs:{maxlength:20,placeholder:"请输入活动名称"},model:{value:t.formValidate.name,callback:function(e){t.$set(t.formValidate,"name","string"==typeof e?e.trim():e)},expression:"formValidate.name"}})],1),t._v(" "),a("Form-item",{attrs:{label:"关联号码：",prop:"id"}},[a("Input",{staticClass:"width500",attrs:{placeholder:"请输入由外部系统生成的活动关联号码"},model:{value:t.formValidate.id,callback:function(e){t.$set(t.formValidate,"id","string"==typeof e?e.trim():e)},expression:"formValidate.id"}}),t._v(" "),a("Tooltip",{attrs:{content:"请求接口url查询XX活动关联信息"}},[a("p",{staticClass:"fa color-blue",on:{click:t.requireUrl}},[t._v("详情")])])],1),t._v(" "),a("Form-item",{attrs:{label:"时间：",prop:"date"}},[a("DatePicker",{staticClass:"width500",attrs:{type:"daterange",transfer:"",placement:"bottom-end",placeholder:"请选择活动起止时间",value:t.formValidate.date},on:{"on-change":t.changeDate}})],1),t._v(" "),a("Form-item",{attrs:{label:"描述：",prop:"description"}},[a("Input",{staticClass:"width500",attrs:{maxlength:50,type:"textarea",autosize:{minRows:2,maxRows:3},placeholder:"请输入该活动描述，最多50个字符"},model:{value:t.formValidate.description,callback:function(e){t.$set(t.formValidate,"description","string"==typeof e?e.trim():e)},expression:"formValidate.description"}})],1)],1)],1)],1)])],1)},staticRenderFns:[]};var r=a("VU/8")(i,n,!1,function(t){a("hfcv")},"data-v-39c65dd1",null);e.a=r.exports}});