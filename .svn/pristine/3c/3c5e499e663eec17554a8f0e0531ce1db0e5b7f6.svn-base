webpackJsonp([30],{kDo0:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("fZjL"),n=a.n(i),l={name:"whole-order",data:function(){return{columns_1:[],columns_2:[],columns_3:[],columns_4:[],data_1:[],data_2:[],data_3:[],data_4:[],gaugeWidth:0,tableWidth:0}},props:{title:{type:String,required:!0},allData:{type:Array,required:!0},loading:{type:Boolean,default:!1}},created:function(){var t=this;this.columns_1=[{title:"对比任务名称",key:"display_name",align:"center",width:150},{title:"总销售额",key:"sales_amount",align:"center",width:150},{title:"平均客单价",key:"avg_transaction_value",align:"center",width:150},{title:"平均客单件",key:"avg_transaction_unit",align:"center",width:150},{title:"平均件单价",key:"avg_unit_value",align:"center",width:150},{title:"联单率",key:"joint_purchase_rate",align:"center",width:150},{title:"平均折扣率",key:"joint3_purchase_scale",align:"center",width:150},{title:"新会员人数",key:"vip_order_scale",align:"center",width:150},{title:"新会员转化率",key:"vip_sales_scale",align:"center",width:150},{title:"新会员占比",key:"new_vip_count",align:"center",width:150},{title:"老会员人数",key:"new_vip_case_rate",align:"center",width:150}],this.columns_2=[{title:"对比任务名称",key:"display_name",align:"center",width:180}],this.columns_3=[{title:"对比任务名称",key:"display_name",align:"center",width:180}],this.columns_4=[{title:"对比任务名称",key:"display_name",align:"center",width:180}];for(var e=1;e<=10;e++)this.columns_2.push({title:"Top"+e,key:"top"+e,minWidth:200,align:"center"}),this.columns_3.push({title:"Top"+e,key:"top"+e,minWidth:200,align:"center"}),this.columns_4.push({title:"Top"+e,key:"top"+e,minWidth:200,align:"center"});this.allData.forEach(function(e,a){t.data_2[a]={display_name:e.display_name},e.top10_by_unit.forEach(function(e,i){t.data_2[a]["top"+(+i+1)]=n()(e)[0]}),t.data_3[a]={display_name:e.display_name},e.top10_by_value.forEach(function(e,i){t.data_3[a]["top"+(+i+1)]=n()(e)[0]}),t.data_4[a]={display_name:e.display_name},e.category_distribution.forEach(function(e,i){i>10||(t.data_4[a]["top"+(+i+1)]=n()(e)[0])})}),this.data_1=this.allData.map(function(t){return{display_name:t.display_name,sales_amount:t.sales_amount,avg_transaction_value:t.avg_transaction_value,avg_transaction_unit:t.avg_transaction_unit,avg_unit_value:t.avg_unit_value,joint_purchase_rate:t.joint_purchase_rate,joint3_purchase_scale:t.joint3_purchase_scale,vip_order_scale:t.vip_order_scale,vip_sales_scale:t.vip_sales_scale,new_vip_count:t.new_vip_count,new_vip_case_rate:t.new_vip_case_rate}})},mounted:function(){this.gaugeWidth=this.$refs.win.clientWidth,this.tableWidth=this.gaugeWidth;var t=this.echarts.init(document.getElementById("main1")),e=this.echarts.init(document.getElementById("main2")),a={series:[{name:"业务指标",type:"gauge",detail:{formatter:"{value}%"},data:[{value:50,name:"退货率"}]}]};t.setOption(a),e.setOption(a)},methods:{}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"win",staticClass:"whole-order flex"},[t.loading?a("Spin",{staticStyle:{margin:"auto"},attrs:{size:"large"}}):a("Row",[a("p",{staticClass:"padding16-18",staticStyle:{background:"white","font-size":"18px","font-weight":"600",color:"#000"}},[t._v(t._s(t.title))]),t._v(" "),a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("订单分析-整体订单")]),t._v(" "),a("Table",{attrs:{width:t.tableWidth,border:"",columns:t.columns_1,data:t.data_1}})],1),t._v(" "),a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("订单分析-销售数量款色TOP10")]),t._v(" "),a("Table",{attrs:{width:t.tableWidth,border:"",columns:t.columns_2,data:t.data_2}})],1),t._v(" "),a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("订单分析-销售金额款色TOP10")]),t._v(" "),a("Table",{attrs:{width:t.tableWidth,border:"",columns:t.columns_3,data:t.data_3}})],1),t._v(" "),a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("订单分析-销售品类Top10")]),t._v(" "),a("Table",{attrs:{width:t.tableWidth,border:"",columns:t.columns_4,data:t.data_4}})],1)],1)],1)},staticRenderFns:[]};var o={data:function(){return{title:"",allData:[],menu:[],active_name:0,loading:!1,dimension:["total","non_vip","old_vip","new_vip"],show:!1}},components:{WholeOrder:a("VU/8")(l,s,!1,function(t){a("uwPr")},"data-v-3a84d896",null).exports},created:function(){this.title=this.$route.query.title,this.menu=["整体订单","非会员消费订单","老会员消费订单","新会员消费订单"],this.getData()},mounted:function(){},methods:{getData:function(){var t=this;this.show=!1,this.$axios.get("/cdp-web/marketplugin/orderAnalysis/detailView",{params:{dimension:this.dimension[this.active_name],taskIds:"at76"}}).then(function(e){t.allData=e.data.data,t.title=t.allData.map(function(t){return t.display_name}).toString(),t.show=!0})},menuSelect:function(t){this.active_name=t,this.getData()},back:function(){this.$router.go(-1)}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Row",{staticStyle:{padding:"16px 24px","background-color":"white"},attrs:{type:"flex",justify:"space-between",align:"middle"}},[a("Col",{staticStyle:{"background-color":"white"}},[a("span",{on:{click:t.back}},[a("Icon",{staticStyle:{"margin-top":"-5px","margin-right":"5px"},attrs:{type:"md-arrow-back",size:"24",color:"rgba(23,35,61,0.55)"}})],1),t._v(" "),a("span",{staticStyle:{"font-size":"20px"}},[t._v("\n               【 "+t._s(t.title)+" 】\n            ")])])],1),t._v(" "),a("div",{staticClass:"slide-scroll-box"},[a("div",{staticClass:"page-title bottom-shadow page-title-tab"},[a("Menu",{staticClass:"pl24",attrs:{mode:"horizontal",theme:"light","active-name":t.active_name},on:{"on-select":t.menuSelect}},t._l(t.menu,function(e,i){return a("MenuItem",{key:i,attrs:{name:i}},[t._v(t._s(e))])}))],1),t._v(" "),t.show?a("whole-order",{attrs:{title:t.menu[t.active_name],loading:t.loading,allData:t.allData}}):t._e()],1)],1)},staticRenderFns:[]},_=a("VU/8")(o,r,!1,null,null,null);e.default=_.exports},uwPr:function(t,e){}});