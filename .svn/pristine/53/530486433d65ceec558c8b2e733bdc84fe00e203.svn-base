webpackJsonp([24],{bXCm:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("BTaQ"),o=i("CFN8"),r={props:{tabView:{default:"self",type:String},groupID:{default:"",type:String},groupName:{default:"",type:String},hierarchy_id:{default:[],type:Array}},data:function(){return{title:"新建人群",status_config:{},saveDisabled:!1,saveLoading:!1,catalogList:[],formValidate:{crowdName:"",catalogName:this.hierarchy_id,des:""},ruleValidate:{crowdName:[{required:!0,message:"请输入人群名称",trigger:"blur"},{pattern:this.$config.reg_input.reg,message:this.$config.reg_input.msg,trigger:"blur"}]},selectList:[],accessoryList:[],columns:[{type:"selection",width:60,align:"center"},{title:"名称",key:"name"},{title:"描述",key:"description"}]}},methods:{init:function(){this.status_config=this.$config.status_config,this.getCatalog(),this.getAccessoryList()},getCatalog:function(){var t=this;this.$axios.get(this.$config.apiDomain+"/catalog-tree",{params:{group_id:"group"==this.tabView?this.groupID:void 0,type:"crowd",visibility:this.tabView,authorized:!1}}).then(function(e){var i=e.data,a=i.children||[];a.length&&("group"==t.tabView&&(a=i.children),function t(e){e.forEach(function(e){e.label=e.name,e.value=e.id,e.children&&e.children.length&&t(e.children)})}(a),t.$nextTick(function(){t.catalogList=a}))}).catch(function(){})},getAccessoryList:function(){var t=this;this.$axios.get(this.$config.apiDomain+"/crowds/auxiliary/define").then(function(e){var i=e.data;t.accessoryList=i}).catch(function(){})},cancel:function(){this.$emit("cancel",!1)},ok:function(){var t=this;this.$refs.formValidate.validate(function(e){if(e){t.saveLoading=!0;var i=[];t.selectList.forEach(function(t){i.push(t.auxiliary_type)});var a={group_id:t.groupID||void 0,catalog_id:t.formValidate.catalogName[t.formValidate.catalogName.length-1]||0,name:t.formValidate.crowdName.trim(),description:t.formValidate.des.trim(),auxiliary_types:i,visibility:t.tabView};t.$axios.post(t.$config.apiDomain+"/crowds/base",a).then(function(e){var i=e.data;t.cancel(),t.$router.push({path:"/crowd/detail",query:{name:"detail",code:i.code,tabView:t.tabView,groupID:t.groupID}})}).catch(function(){t.saveLoading=!1,t.saveDisabled=!1})}})},onChange:function(t){this.selectList=t}},components:{editTitle:o.a},mounted:function(){this.init()}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mask-bg"},[i("edit-title",{attrs:{disabled:t.saveDisabled,loading:t.saveLoading,title:t.title},on:{"cancel-click":t.cancel,"ok-click":t.ok}}),t._v(" "),i("div",{staticClass:"custom-dialog-content"},[i("div",{staticClass:"m20"},[i("Card",{attrs:{"dis-hover":""}},[i("p",{attrs:{slot:"title"},slot:"title"},[t._v("基本信息")]),t._v(" "),i("Form",{ref:"formValidate",staticClass:"mt20",staticStyle:{padding:"0 20px"},attrs:{"label-position":"left","label-width":70,model:t.formValidate,rules:t.ruleValidate}},[i("Form-item",{attrs:{label:"名称",prop:"crowdName"}},[i("Input",{staticStyle:{width:"500px"},attrs:{maxlength:20,placeholder:"请输入人群名称"},model:{value:t.formValidate.crowdName,callback:function(e){t.$set(t.formValidate,"crowdName",e)},expression:"formValidate.crowdName"}})],1),t._v(" "),i("Form-item",{attrs:{label:"目录",prop:"catalogName"}},[i("Input",{staticStyle:{width:"220px","margin-right":"10px"},attrs:{value:"group"==t.tabView?t.groupName:t.status_config[t.tabView],readonly:""}}),t._v(" "),i("Cascader",{staticStyle:{width:"270px",display:"inline-block"},attrs:{transfer:"","change-on-select":"",data:t.catalogList},model:{value:t.formValidate.catalogName,callback:function(e){t.$set(t.formValidate,"catalogName",e)},expression:"formValidate.catalogName"}})],1),t._v(" "),i("Form-item",{attrs:{label:"描述",prop:"des"}},[i("Input",{staticStyle:{width:"500px"},attrs:{maxlength:100,type:"textarea",autosize:{minRows:2,maxRows:3},placeholder:"请输入描述"},model:{value:t.formValidate.des,callback:function(e){t.$set(t.formValidate,"des",e)},expression:"formValidate.des"}})],1)],1)],1)],1)])],1)},staticRenderFns:[]},s=i("VU/8")(r,n,!1,null,null,null).exports,c=i("Z86P"),d={props:{columns:{default:[],type:Array},tabView:{default:"",type:String}},data:function(){return{trait_crowd:"crowd",treeLoading:!1,f_add:!1,buttonActive:"all",buttonList:[{value:"全部",key:"all"},{value:"激活",key:"active"},{value:"冻结",key:"freeze"}],iniTreeList:[],curTreeID:"0",groupID:"",groupName:"",childTreeList:[],loading:!0,crowdName:"",order:"",sortName:"",listData:[],page:{total:0,size:10,current:1},isExpandFirstLeaf:!1,node_visibility:"",loadingOrNoData:"数据加载中...",hierarchy_id:[]}},methods:{getList:function(){var t=this;if(this.iniTreeList.length){this.loadingOrNoData="数据加载中...",this.loading=!0;var e={visibility:this.tabView,lifecycle_status:this.buttonActive,q:this.crowdName||void 0,page:this.page.current,rows:this.page.size,sort:this.sortName||void 0,order:this.order||void 0,node_visibility:this.node_visibility||void 0};"self"==this.tabView&&(e.catalog_id=this.curTreeID),"subordinate"==this.tabView&&(e.org_id=""==this.curTreeID?void 0:this.curTreeID),"group"==this.tabView&&(e.catalog_id=this.curTreeID,e.group_id=this.groupID),this.$api.crowd.getCrowds(e).then(function(e){if((!e.items||0==e.items.length)&&e.page>1)return t.page.current=e.page-1,void t.getList();e.items.length||(t.loadingOrNoData="暂无数据"),t.loading=!1,e.items.forEach(function(t){t.crowd_scale_filter=(t.crowd_scale||0).toString().replace(/(\d)(?=(?:\d{3})+$)/g,"$1,"),t.estimated_scale_filter=(t.estimated_scale||0).toString().replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")}),t.listData=e.items,t.page.total=e.total,t.page.size=e.size,t.page.current=e.page,t.isExpandFirstLeaf&&t.expandFirstLeaf()}).catch(function(){t.page.total=0,t.listData=[],t.loadingOrNoData="数据加载失败",t.loading=!1})}},expandFirstLeaf:function(){this.$nextTick(function(){document.querySelector("#cusTree .ivu-icon-ios-arrow-forward").click()}),this.isExpandFirstLeaf=!1},getTreeList:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments[3];return this.loadingOrNoData="数据加载中...",this.$axios.get(e,{params:a}).then(function(e){i.loading=!1;var a=e.data.items;if(a.forEach(function(t){t.is_leaf||(t.loading=!1,t.children=[])}),!t)return i.childTreeList=a,i.loadingOrNoData="暂无数据",i.childTreeList;if("group"===i.tabView){if(i.treeLoading=!1,i.iniTreeList=a||[],!a.length)return i.listData=[],i.page.current=1,i.page.total=0,void(i.loadingOrNoData="暂无数据");a.forEach(function(t){t.tid=t.group_id}),i.curTreeID="",i.groupID=a[0].group_id,i.groupName=a[0].name,i.$emit("transGroupID",a[0].group_id)}else if("subordinate"===i.tabView){if(i.iniTreeList=a||[],i.treeLoading=!1,!a.length)return i.listData=[],i.page.current=1,i.page.total=0,void(i.loadingOrNoData="暂无数据");i.curTreeID=a[0].org_id}}).catch(function(){i.listData=[],i.page.current=1,i.page.total=0,i.loadingOrNoData="数据加载失败",i.treeLoading=!1,i.loading=!1,o&&(o.loading=!1)})},activeFn:function(t){this.buttonActive=t,this.crowdName="",this.order="",this.sortName="",this.page.current=1,this.resetSort(),this.getList()},addTreeList:function(t,e,i){var a=null;if("self"===e){var o={parent_id:t.id,type:this.trait_crowd,visibility:e,rows:-1};a=this.getTreeList(!1,this.$config.apiDomain+"/catalogs",o,t)}if("group"===e){var r={group_id:t.group_id,parent_id:t.id?t.id:0,type:this.trait_crowd,visibility:e,rows:-1};a=this.getTreeList(!1,this.$config.apiDomain+"/catalogs",r,t).then(function(t){return t.forEach(function(t){t.tid=t.group_id+t.id}),t})}if("subordinate"===e){var n={org_id:""==t.org_id?void 0:t.org_id,rows:-1,order:"asc"};a=this.getTreeList(!1,this.$config.apiDomain+"/sys/orgs/children",n,t)}a&&a.then(function(t){t&&i(t)})},allowDrag:function(t){return!("ROLE_C_ADMIN"!=this.$config.login_info.role_id||"public"!=this.tabView&&"self"!=this.tabView||!t.id)||(!("ROLE_D_ADMIN"!=this.$config.login_info.role_id||"self"!=this.tabView&&"group"!=this.tabView||!t.id)||!("ROLE_D_OPERATOR"!=this.$config.login_info.role_id||"self"!=this.tabView&&"group"!=this.tabView||!t.id))},allowDrop:function(t){return"group"==this.tabView?!(!t.parentRootNode||!t.parentDragRootNode||t.parentRootNode.group_id!==t.parentDragRootNode.group_id):!(!t.parentRootNode||!t.parentDragRootNode||""===t.parentRootNode.id||t.parentRootNode.id!==t.parentDragRootNode.id)},drop:function(t){var e=this,i=t.after,a=t.draggingNode,o=t.parentNode,r=t.parentDragNode,n=i?"dest_id="+i.id:null,s=this.$config.apiDomain+"/catalogs/"+a.id+"/order?"+n+"&parent_id="+(o.id||0)+"&direct=ahead";this.$axios.put(s).then(function(t){var i=t.data;e.$refs.trait_tree.removeData(a[e.catalogIdKey],r&&0!=r.children.length);var n=i.items,s=o.children;e.$tools.replaceData(n,s,"id"),n.find(function(t){t.id!==a.id||t.is_leaf||(t.loading=!1)}),e.$set(o,"children",n),e.updateHierarchyId(),e.getList()})},updateHierarchyId:function(){var t=this.$refs.trait_tree.getSelectNodeHierarchyId(this.curTreeID);this.hierarchy_id=t},findList:function(t){if(t){if(this.hierarchy_id=t.hierarchy_id?t.hierarchy_id.split("-"):[],this.node_visibility=t.type,this.buttonActive="all",this.crowdName="",this.page.current=1,this.sortName="",this.order="",this.curTreeID=t.id,this.$emit("transGroupID",""),"group"===this.tabView&&t.group_id){this.groupID=t.group_id;var e=this.$lodash.find(this.iniTreeList,function(e){return e.group_id==t.group_id});this.groupName=e?e.name:"",this.$emit("transGroupID",t.group_id)}"subordinate"===this.tabView&&(this.curTreeID=t.org_id),this.resetSort(),this.getList()}},addTree:function(t,e){var i=this,a=t.data,o=t.root,r=t.node,n=t.parent,s=a;this.$axios.post(this.$config.apiDomain+"/catalogs",{name:s.name,type:this.trait_crowd,visibility:e,parent_id:n.id||0,group_id:n.group_id||null}).then(function(t){var a=t.data;"group"==e&&(a.tid=a.group_id+a.id),i.$lodash.forEach(a,function(t,e){i.$set(s,e,t)}),i.$set(s,"isEdit",!1),i.$set(n,"loading",!1),i.$Message.destroy(),i.$Message.success("已添加")}).catch(function(){i.removeData(s,r,o)})},removeData:function(t,e,i){var a=i.find(function(t){return t===e}).parent,o=i.find(function(t){return t.nodeKey===a}).node,r=o.children.indexOf(t);1===o.children.length&&delete o.loading,o.children.splice(r,1)},removeTree:function(t){var e=this,i=t.data,a=t.root,o=t.node,r=i;r.id?this.$axios.delete(this.$config.apiDomain+"/catalogs/"+r.id).then(function(){e.$Message.destroy(),e.$Message.success("已删除"),e.removeData(r,o,a)}).catch(function(){}):this.removeData(r,o,a)},editTree:function(t,e){var i=this,a=t.data,o=t.oldData;this.$axios.put(this.$config.apiDomain+"/catalogs/"+a.id,{name:a.name,type:this.trait_crowd,visibility:e,catalog_id:a.id,group_id:a.group_id}).then(function(){i.$Message.destroy(),i.$Message.success("已修改"),i.$set(t,"isEdit",!1)}).catch(function(){i.$set(a,"name",o.name),i.$set(a,"isEdit",!1)})},search:function(){this.page.current=1,this.order="",this.sortName="",this.resetSort(),this.getList()},sortChange:function(t){this.listData.length&&(this.sortName="normal"===t.order?"":t.key,this.order="normal"===t.order?"":t.order,this.page.current=1,this.getList())},resetSort:function(){this.columns.push({}),this.columns.pop()},changePage:function(t){this.page.current=t,this.getList()},cancel:function(t){this.f_add=t},tabViewFn:function(t){var e=this;if(this.buttonActive="all",this.crowdName="",this.page.current=1,this.sortName="",this.order="",this.groupID="",this.treeLoading=!0,"self"==t&&(this.isExpandFirstLeaf=!0,this.curTreeID="0",this.iniTreeList=[],this.childTreeList=[],this.$nextTick(function(){e.treeLoading=!1,e.iniTreeList.push({name:e.$config.status_config[t],id:0,loading:!1,children:[]})})),"group"==t&&(this.iniTreeList=[],this.childTreeList=[],this.getTreeList(!0,this.$config.apiDomain+"/user/groups",{rows:-1})),"subordinate"==t&&(this.iniTreeList=[],this.childTreeList=[],this.$nextTick(function(){e.treeLoading=!0,e.getTreeList(!0,e.$config.apiDomain+"/sys/orgs/children",{rows:-1})})),"node"==t){this.iniTreeList=[];for(var i=this.$config.login_info.role_view.buttons,a=0;a<i.length;a++)if("catalog_group_crowd_in_node"===i[a].id){i[a].visible?this.iniTreeList=[{name:"私有的",id:0,type:"self"},{name:"运营组的",id:1,type:"group"}]:this.iniTreeList=[{name:"私有的",id:0,type:"self"}];break}this.getTreeList(!0,"",{})}}},computed:{catalogIdKey:function(){return"group"==this.tabView?"tid":"subordinate"==this.tabView?"org_id":"id"}},watch:{tabView:function(t){this.tabViewFn(t)}},components:{CustomTree:c.a,AddCrowd:s},created:function(){var t=this.$config.debounce_wait;this.debounceSearch=this.$lodash.debounce(this.search,t),this.debounceStatus=this.$lodash.debounce(this.activeFn,t),this.debounceSort=this.$lodash.debounce(this.sortChange,t),this.debouncePage=this.$lodash.debounce(this.changePage,t)},mounted:function(){var t=this;this.$tools.bus.$on("updateCrowdList",function(){t.getList()})},beforeDestroy:function(){this.$tools.bus.$off("updateCrowdList")}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"crowd-manage-box"},[i("div",{staticClass:"h100 crowd-manage-left"},[i("div",{staticClass:"crowd-manage-left-Tree"},[t.treeLoading?t._e():i("custom-tree",{directives:[{name:"role-button",rawName:"v-role-button",value:"catalog_tree_crowd_"+t.tabView,expression:"`catalog_tree_crowd_${tabView}`"}],ref:"trait_tree",attrs:{data:t.iniTreeList,"children-data":t.childTreeList,"max-level":5,isShowNum:!1,newNodeName:"新增目录","confirm-modal-type":"目录","confirm-modal-content":"删除后将无法恢复。",tid:t.catalogIdKey,isShowAddIcon:"subordinate"!=t.tabView,isShowDelIcon:"subordinate"!=t.tabView,isShowEditIcon:"subordinate"!=t.tabView,"load-data":function(e,i){return t.addTreeList(e,t.tabView,i)},allowDrag:t.allowDrag,allowDrop:t.allowDrop},on:{drop:t.drop,"get-table-tab-data":function(e){t.findList(e,t.tabView)},"add-tree-node":function(e){t.addTree(e,t.tabView)},"remove-tree-node":function(e){t.removeTree(e,t.tabView)},"edit-tree-node":function(e){t.editTree(e,t.tabView)}}})],1)]),t._v(" "),i("div",{staticClass:"h100 crowd-manage-right"},[i("div",{staticClass:"crowd-manage-right-list"},[i("Card",{attrs:{"dis-hover":"",padding:0}},[i("Row",{staticStyle:{margin:"16px"},attrs:{type:"flex",justify:"space-between"}},[i("Col",[i("ButtonGroup",t._l(t.buttonList,function(e,a){return i("Button",{key:a,attrs:{type:e.key==t.buttonActive?"primary":"default"},on:{click:function(i){t.debounceStatus(e.key)}}},[t._v("\n                                "+t._s(e.value)+"\n                            ")])})),t._v(" "),i("Input",{staticClass:"width300 ml10",attrs:{placeholder:"请输入人群名称/ID搜索"},on:{"on-change":t.debounceSearch},model:{value:t.crowdName,callback:function(e){t.crowdName=e},expression:"crowdName"}},[i("Icon",{attrs:{slot:"suffix",type:"ios-search"},slot:"suffix"})],1),t._v(" "),i("span",{staticClass:"total-count"},[t._v("共"),i("i",[t._v(t._s(t.page.total))]),t._v("个人群")])],1),t._v(" "),i("Col",[t.iniTreeList.length?i("Button",{directives:[{name:"role-button",rawName:"v-role-button",value:"create_crowd_button_"+t.tabView,expression:"'create_crowd_button_' + tabView"}],attrs:{icon:"md-add",type:"primary"},on:{click:function(e){t.f_add=!0}}},[t._v("新建人群\n                        ")]):t._e(),t._v(" "),i("Drawer",{attrs:{width:"1000","mask-closable":!1},model:{value:t.f_add,callback:function(e){t.f_add=e},expression:"f_add"}},[i("div",{attrs:{slot:"title"},slot:"title"}),t._v(" "),t.f_add?i("add-crowd",{attrs:{tabView:t.tabView,groupID:t.groupID,groupName:t.groupName,hierarchy_id:t.hierarchy_id},on:{cancel:t.cancel}}):t._e()],1)],1)],1),t._v(" "),i("Row",[i("Col",[i("Table",{staticClass:"smce-table-noscroll td-table-no-border",attrs:{columns:t.columns,data:t.listData,"no-data-text":t.loadingOrNoData,loading:t.loading},on:{"on-sort-change":t.debounceSort}})],1)],1),t._v(" "),i("Row",{staticStyle:{margin:"16px"},attrs:{type:"flex",justify:"end"}},[i("Col",[i("Page",{attrs:{total:t.page.total,current:t.page.current,"show-elevator":""},on:{"on-change":t.debouncePage}})],1)],1)],1)],1)])])},staticRenderFns:[]};var u=i("VU/8")(d,l,!1,function(t){i("mWd1")},"data-v-b5f12dde",null).exports,h=i("ehEI"),g={data:function(){var t=this;this.$createElement;return{tabActive:"",trans_group_ID:"",tabList:[{value:"私有的",name:"self"},{value:"运营组的",name:"group"},{value:"同节点其他的",name:"node"},{value:"下级的",name:"subordinate"}],columns:[],showTooltip:!1,columns_self_group_node:[{title:"人群名称",key:"name_lifecycle_status",render:function(e,i){return e("div",{style:"display:flex;"},[e(a.Tooltip,{attrs:{placement:"top",transfer:!0,content:t.$config.status_config[i.row.lifecycle_status]},style:"width:20px;"},[e("icon",{style:"freeze"==i.row.lifecycle_status?"color:#c5c8ce":"color:#19be6b",attrs:{type:"ios-radio-button-on"}})]),e(a.Tooltip,{attrs:{placement:"top",transfer:!0,content:i.row.name,disabled:!t.showTooltip,"max-width":"250"},class:"ivu-table-cell-tooltip"},[e("span",{attrs:{id:"content"+i.index},on:{mouseenter:function(){t.handleTooltipIn(i.index)}},class:"ivu-table-cell-tooltip-content"},[i.row.name])])])}},{title:"人群ID",key:"code",width:120,ellipsis:!0,tooltip:!0},{title:"人群数量",key:"crowd_scale_filter",width:120,render:function(t,e){return t("span","static"==e.row.crowd_status?e.row.crowd_scale_filter:e.row.estimated_scale_filter||0)}},{title:"审核状态",width:120,key:"audit_status",sortable:"custom",render:function(e,i){return e("span",t.$config.status_config[i.row.audit_status])},sortType:"normal"},{title:"最后更新时间",key:"last_update_time",sortable:"custom",width:180,render:function(e,i){return e("span",i.row.last_update_time?t.$date(+(""+i.row.last_update_time)).format("YYYY-MM-DD HH:mm:ss"):"")},sortType:"normal"},{title:"操作",width:100,render:function(e,i){return e(h.a,{props:{row:i.row,tabView:t.tabActive,groupID:t.trans_group_ID,type:"crowd",pageType:"list"}})}}],columns_subordinate:[{title:"人群名称",key:"name_lifecycle_status",render:function(e,i){return e("div",{style:"display:flex;"},[e(a.Tooltip,{attrs:{placement:"top",transfer:!0,content:t.$config.status_config[i.row.lifecycle_status]},style:"width:20px;"},[e("icon",{style:"freeze"==i.row.lifecycle_status?"color:#c5c8ce":"color:#19be6b",attrs:{type:"ios-radio-button-on"}})]),e(a.Tooltip,{attrs:{placement:"top",transfer:!0,content:i.row.name,disabled:!t.showTooltip,"max-width":"250"},class:"ivu-table-cell-tooltip"},[e("span",{attrs:{id:"content"+i.index},on:{mouseenter:function(){t.handleTooltipIn(i.index)}},class:"ivu-table-cell-tooltip-content"},[i.row.name])])])}},{title:"人群ID",key:"code",width:120,ellipsis:!0,tooltip:!0},{title:"人群数量",key:"crowd_scale_filter",width:120,render:function(t,e){return t("span","static"==e.row.crowd_status?e.row.crowd_scale_filter:e.row.estimated_scale_filter||0)}},{title:"审核状态",width:120,key:"audit_status",sortable:"custom",render:function(e,i){return e("span",t.$config.status_config[i.row.audit_status])},sortType:"normal"},{title:"最后更新时间",key:"last_update_time",sortable:"custom",width:180,render:function(e,i){return e("span",i.row.last_update_time?t.$date(+(""+i.row.last_update_time)).format("YYYY-MM-DD HH:mm:ss"):"")},sortType:"normal"},{title:"操作",width:100,render:function(e,i){return e(h.a,{props:{row:i.row,tabView:t.tabActive,groupID:t.trans_group_ID,type:"crowd",pageType:"list"}})}}]}},methods:{handleTooltipIn:function(t){var e=this;this.$nextTick(function(){var i=document.querySelector("#content"+t);e.showTooltip=i.scrollWidth>i.offsetWidth})},changeTab:function(t){this.$router.push({query:{tabView:t}})},transGroupID:function(t){this.trans_group_ID=t}},components:{TabContent:u},created:function(){this.debounceTab=this.$lodash.debounce(this.changeTab,this.$config.debounce_wait)},mounted:function(){},beforeRouteEnter:function(t,e,i){var a=t.query.tabView;if(!$session.getTabview()[a])return i(function(t){p(t.$router)});"ROLE_C_OPERATOR"==$config.login_info.role_id&&"subordinate"==a?i(function(t){p(t.$router)}):i(function(t){t.tabActive=a,"self"==t.tabActive||"group"==t.tabActive||"node"===t.tabActive?t.columns=t.columns_self_group_node:t.columns=t.columns_subordinate,i()})},beforeRouteUpdate:function(t,e,i){var a=t.query.tabView;if(!$session.getTabview()[a])return i(function(t){p(t.$router)});"ROLE_C_OPERATOR"==$config.login_info.role_id&&"subordinate"==a?i(function(t){p(t.$router)}):(this.tabActive=a,"self"==this.tabActive||"group"==this.tabActive||"node"===this.tabActive?this.columns=this.columns_self_group_node:this.columns=this.columns_subordinate,i())},watch:{$route:function(t){"/crowd"==t.path&&(sessionStorage.removeItem("crowdReturn"),sessionStorage.removeItem("traitReturn"))}}};function p(t){t.replace({path:"/crowd",query:{tabView:"self"}})}var f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"h100 content-box"},[i("div",{staticClass:"w100"},[i("Menu",{staticClass:"pl24 bottom-shadow",attrs:{mode:"horizontal",theme:"light","active-name":t.tabActive},on:{"on-select":t.debounceTab}},t._l(t.tabList,function(e,a){return i("MenuItem",{directives:[{name:"role-button",rawName:"v-role-button",value:e.name+"_crowd_tab",expression:"`${item.name}_crowd_tab`"}],key:a,attrs:{name:""+e.name}},[t._v("\n                "+t._s(e.value)+"\n            ")])}))],1),t._v(" "),i("tab-content",{staticClass:"w100 tab-content",attrs:{columns:t.columns,tabView:t.tabActive},on:{transGroupID:t.transGroupID}})],1)},staticRenderFns:[]};var m=i("VU/8")(g,f,!1,function(t){i("wWcD")},"data-v-310e5f2b",null);e.default=m.exports},mWd1:function(t,e){},wWcD:function(t,e){}});