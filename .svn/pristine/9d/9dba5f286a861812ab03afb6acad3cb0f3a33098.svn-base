webpackJsonp([21],{BZzS:function(t,e){},NAxX:function(t,e){},"RX/q":function(t,e){},yVHg:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("CFN8"),n={name:"whole-order",data:function(){return{columns1:[],data1:[],gaugeWidth:0}},props:{title:{type:String,required:!0},loading:{type:Boolean,default:!1}},created:function(){this.columns1=[{title:"对比任务名称",key:"name"},{title:"总销售额",key:"salesAmount"},{title:"平均客单价",key:"avgTransactionUnit"},{title:"平均客单件",key:"avgTransactionValue"},{title:"平均件单价",key:"avgUnitValue"},{title:"联单率",key:"jointPurchaseRate"},{title:"平均折扣率",key:"avgDiscountRate"},{title:"新会员人数",key:"newVipCount"},{title:"新会员转化率",key:"newVipCaseRate"},{title:"新会员占比",key:"newVipRate"},{title:"老会员人数",key:"oldVipCount"}]},mounted:function(){this.gaugeWidth=this.$refs.win.clientWidth;var t=this.echarts.init(document.getElementById("main1")),e=this.echarts.init(document.getElementById("main2")),a={series:[{name:"业务指标",type:"gauge",detail:{formatter:"{value}%"},data:[{value:50,name:"退货率"}]}]};t.setOption(a),e.setOption(a)},methods:{}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"win",staticClass:"whole-order flex"},[t.loading?a("Spin",{staticStyle:{margin:"auto"},attrs:{size:"large"}}):a("Row",[a("p",{staticClass:"padding16-18",staticStyle:{background:"white","font-size":"18px","font-weight":"600",color:"#000"}},[t._v(t._s(t.title))]),t._v(" "),a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("订单分析-整体订单")]),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns1,data:t.data1}})],1),t._v(" "),a("Col",{staticClass:"padding16-18 flex",attrs:{span:"24"}},[a("div",{staticStyle:{width:"370px",height:"370px"},attrs:{id:"main1"}}),t._v(" "),a("div",{staticStyle:{width:"370px",height:"370px"},attrs:{id:"main2"}})])],1)],1)},staticRenderFns:[]};var r=a("VU/8")(n,s,!1,function(t){a("NAxX")},"data-v-068583aa",null).exports,o={data:function(){return{saveBtnStatus:!1,loading:!1,columns:[],hasChanged:!1,btn:!1,menu:[],active_name:0}},props:{title:{type:String,required:!0},code:{type:String,required:!0}},components:{editTitle:i.a,WholeOrder:r},created:function(){this.$axios.get("/cdp-webmarketplugin/calendarManagement/detailView?dimension=total&taskIds=at13,at12,at11").then(function(t){}),this.menu=["整体订单","非会员消费订单","老会员消费订单","新会员消费订单"]},methods:{menuSelect:function(t){var e=this;this.active_name=t,this.loading=!0,setTimeout(function(){e.loading=!1},1e3)}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"slide-create-box"},[a("edit-title",{attrs:{loading:t.saveBtnStatus,title:t.title,disabled:t.hasChanged,isShowBtn:t.btn}}),t._v(" "),a("div",{staticClass:"slide-scroll-box dialog-padding20"},[a("div",{staticClass:"page-title bottom-shadow page-title-tab"},[a("Menu",{staticClass:"pl24",attrs:{mode:"horizontal",theme:"light","active-name":t.active_name},on:{"on-select":t.menuSelect}},t._l(t.menu,function(e,i){return a("MenuItem",{key:i,attrs:{name:i}},[t._v(t._s(e))])}))],1),t._v(" "),a("whole-order",{attrs:{title:t.menu[t.active_name],loading:t.loading}})],1)],1)},staticRenderFns:[]};var c={name:"Group",data:function(){return{current:1,pageSize:10,loading:!1,creatEvent:!1,columns:[],showData:[],allData:[],allDataSize:0,dataChild:[],creatTitle:"",creatCode:""}},components:{CreateEvent:a("VU/8")(o,l,!1,function(t){a("BZzS")},"data-v-51e11c73",null).exports},created:function(){var t=this;this.$createElement;this.columns=[{title:"任务ID",key:"code",align:"center",width:120},{title:"人群列表",align:"center",width:650,render:function(t,e){return t("div",["[ ",e.row.compare_task_name," ]"])}},{title:"创建时间",key:"create_time",align:"center",render:function(t,e){return t("div",[new Date(e.row.create_time).toLocaleString()])}},{title:"操作",key:"action",width:150,align:"center",render:function(e,a){return e("a",{on:{click:function(){t.analysis(a)}}},"分析")}}],this.getData();var e=this.$config.debounce_wait;this.debouncePage=this.$lodash.debounce(this.pageChange,e)},methods:{getData:function(){var t=this;return this.loading=!0,this.$axios.get("/cdp-web/marketplugin/orderAnalysis/queryComparedTasks",{params:{page:this.current,rows:this.pageSize}}).then(function(e){t.showData=e.data.data,t.allDataSize=e.data.pageInfo.total,t.loading=!1})},analysis:function(t){this.$router.push("analysisKanban/particularsPage?code="+t.row.task_ids)},pageChange:function(t){this.showData=this.allData.slice((t-1)*this.pageSize+1,(t-1)*this.pageSize+1+this.pageSize)},cancelCreat:function(t){this.creatEvent=t}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-warpper"},[a("div",{staticClass:"page-content page-content-tab padding16-18"},[a("Card",{attrs:{"dis-hover":""}},[a("Row",{staticClass:"code-row-bg",attrs:{type:"flex",justify:"space-between"}},[a("i-col",{staticStyle:{"font-size":"18px"},attrs:{span:"24"}},[t._v("共"),a("a",{staticStyle:{cursor:"default"},attrs:{href:"javascript:void(0)"}},[t._v(t._s(t.allDataSize))]),t._v("个对比任务")])],1),t._v(" "),a("Table",{ref:"table",staticClass:"smce-table-noscroll td-table-no-border",attrs:{loading:t.loading,"no-data-text":"暂无数据",columns:t.columns,data:t.showData}}),t._v(" "),a("Page",{staticClass:"mt16 padding16-18 ivu-row-flex ivu-row-flex-end",attrs:{current:t.current,"page-size":t.pageSize,total:t.allDataSize,"show-elevator":""},on:{"on-change":t.debouncePage}})],1)],1),t._v(" "),a("Drawer",{attrs:{width:"800","mask-closable":!1},model:{value:t.creatEvent,callback:function(e){t.creatEvent=e},expression:"creatEvent"}},[t.creatEvent?a("create-event",{attrs:{title:t.creatTitle,code:t.creatCode,showData:t.dataChild}}):t._e()],1)],1)},staticRenderFns:[]};var u=a("VU/8")(c,d,!1,function(t){a("RX/q")},"data-v-5e41ff94",null);e.default=u.exports}});